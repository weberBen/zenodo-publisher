# Zenodo Publisher Configuration
# Copy this file to .zenodo.env in your project root

# =============================================================================
# Required Settings
# =============================================================================

# Project name for display and file naming (e.g., MyProject-v1.0.0.pdf)
# Defaults to root directory name if empty
PROJECT_NAME=MyProject

# Main branch name for releases
MAIN_BRANCH=main

# Path to compile directory (relative to project root)
# Must contain a Makefile with a 'deploy' target
COMPILE_DIR=papers/latex

# Main source file (with extension)
MAIN_FILE=main.pdf

# Let the script compile the project
COMPILE=True

# Extra arguments passed to make (comma-separated, e.g. -j4,VERBOSE=1)
MAKE_ARGS=

# =============================================================================
# Zenodo Configuration
# =============================================================================

# Set to 'zenodo' to enable publishing
PUBLISHER_TYPE=zenodo

# Your Zenodo API token (get from https://zenodo.org/account/settings/applications/)
ZENODO_TOKEN=your_token_here

# Concept DOI of your existing Zenodo deposit
# Found on your Zenodo record page (the DOI that stays the same across versions)
ZENODO_CONCEPT_DOI=10.5281/zenodo.XXXXXXX

# API URL (use sandbox for testing)
# Production: https://zenodo.org/api
# Sandbox:    https://sandbox.zenodo.org/api
ZENODO_API_URL=https://sandbox.zenodo.org/api

# Metadata overrides: place a .zenodo.json at the project root
# to update Zenodo metadata (title, creators, description, keywords, ...).
# Format: InvenioRDM metadata (see https://inveniordm.docs.cern.ch/reference/metadata/)
# Only present fields are updated; version/publication_date/identifiers are set by the pipeline.

# =============================================================================
# Archive Options
# =============================================================================

# What to archive (comma-separated: extension_file, project)
# - extension_file (e.g. pdf): Extension of the main file (used as default preview in Zenodo)
# - project: ZIP of the git repository (uses git archive)
ARCHIVE_TYPES=pdf,project

# What to persist to ARCHIVE_DIR (comma-separated: extension_file, project)
# Items not listed here will be created as temporary files
PERSIST_TYPES=pdf

# Directory to save persistent archives (optional)
# ARCHIVE_DIR=./releases

# Set the desired publication date for the paper
# or set empty and the current UTC date will be used
PUBLICATION_DATE=2026-02-01

# Add a zenodo_publication_info.json asset to the GitHub release
# after Zenodo publication (contains DOI, record URL, and file checksums)
ZENODO_INFO_TO_RELEASE=False

# Add hash identifiers in Zenodo metadata (alternate identifiers)
# The hash is computed from the files specified by ZENODO_IDENTIFIER_TYPES
ZENODO_IDENTIFIER_HASH=False

# File types to include in the identifier hash (comma-separated: extension, project)
# E.g. pdf, project, or pdf,project
# If multiple types, their hashes are sorted, concatenated and re-hashed
ZENODO_IDENTIFIER_TYPES=pdf

# Hash algorithms (comma-separated)
# Supported: sha256, md5, sha512, sha1, tree, tree256, etc. (hashlib or git tree hash)
HASH_ALGORITHMS=sha256

# Enable debug mode (shows full stack traces on errors)
DEBUG=False

# =============================================================================
# GPG Signing
# =============================================================================

# Enable GPG signing of archived files before upload (True/False)
# Signature files (.asc) follow the same persist/temp rules as the signed files
GPG_SIGN=False

# GPG key UID to use for signing (optional)
# Leave empty to use the system default GPG key
GPG_UID=

# Overwrite existing signature files without prompting (True/False)
GPG_OVERWRITE=False

# Extra arguments passed to gpg (comma-separated)
# Default includes --armor (ASCII-armored .asc signatures)
# Use --no-armor to get binary .sig signatures instead
GPG_EXTRA_ARGS=

# =============================================================================
# CLI / Prompt Options
# =============================================================================

# Validation level for confirmation prompts (strict, light)
# strict: requires typing the project name to confirm
# light: requires y/n confirmation
PROMPT_VALIDATION_LEVEL=strict

# Force Zenodo update even if already up to date (True/False)
ZENODO_FORCE_UPDATE=False